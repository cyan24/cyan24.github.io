<!DOCTYPE html>
<!--[if IE 6]>
<html id="ie6" lang="zh-CN">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="zh-CN">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="zh-CN">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
<html lang="zh-CN" class="js">
<!--<![endif]-->
  

	

	
<head>
	<meta charset="utf-8">
	<title> Cyan的技术笔记</title>
	<meta name="description" content="used by search engines">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-Frame-Options" content="sameorigin">
	<!-- CSS -->
	<link rel="stylesheet" href="/css/main.css">
	<link rel='stylesheet' id='divi-style-css'  href="/css/style.css" type='text/css' media='all' />
	<link rel="stylesheet" href="/css/post.style.css">

	<script type='text/javascript' src="/js/jquery.js"></script>
	<script type='text/javascript' src="/js/soundmanager2-nodebug-jsmin.js"></script>

	<!--Favicon-->
	<link rel="icon" href="favicon.ico" type="image/x-icon"/>
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	
	<link href="/favicon.ico" mce_href="favicon.ico" rel="bookmark" type="image/x-icon" /> 
	<link href="/favicon.ico" mce_href="favicon.ico" rel="icon" type="image/x-icon" /> 
	<link href="/favicon.ico" mce_href="favicon.ico" rel="shortcut icon" type="image/x-icon" /> 
	<!-- Canonical -->
	<link rel="canonical" href="http://cyan24.github.io/">

	<!-- RSS -->
	<link rel="alternate" type="application/atom+xml" title="Cyan的技术笔记" href="http://cyan24.github.io/feed.xml" />

	<!-- Font Awesome -->
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

	<!-- Google Fonts -->
	
	<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic" rel="stylesheet" type="text/css">
	

	<!-- KaTeX -->
	
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.3.0/katex.min.css">
	<script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.3.0/katex.min.js"></script>
	

	<!-- Google Analytics -->
	

	<script type="text/javascript">
    var host = "cyan24.com";
    if ((host == window.location.host) && (window.location.protocol != "https:"))
        window.location.protocol = "https";
    </script>
    
</head>

	<body class="home blog et_pb_button_helper_class home-posts et_fixed_nav et_show_nav et_cover_background et_pb_gutter windows et_pb_gutters3 et_primary_nav_dropdown_animation_fade et_secondary_nav_dropdown_animation_fade et_pb_footer_columns4 et_header_style_left et_right_sidebar chrome">
		<div id="page-container">
    		<header id="main-header" data-height-onload="66">
	<div class="container clearfix et_menu_container">
		<div class="logo_container">
			<span class="logo_helper"></span>
			<a href="/">
				<!--img src="http://blog.ibireme.com/wp-content/uploads/2015/05/logo1.png" alt="Garan no dou" id="logo" data-height-percentage="54" /-->
				Cyan的技术笔记
			</a>
		</div>
		<div id="et-top-navigation" data-height="66" data-fixed-height="40">
			<nav id="top-menu-nav">
				<ul id="top-menu" class="nav">
					<li>
						<a class="page-link" href="/">
							首页
						</a>
					</li>
					
					
					
					
					<li>
						<a class="page-link" href="/About/">
							关于我
						</a>
					</li>
					
					
					
					<li>
						<a class="page-link" href="/Archives/">
							所有文章
						</a>
					</li>
					
					
					
					
					
					<li>
						<a class="page-link" href="/Design/">
							设计
						</a>
					</li>
					
					
					
					
					
					
					
					
					
					
					
					
					
					<li>
						<a class="page-link" href="/iOS/">
							iOS开发
						</a>
					</li>
					
					
					
					
					
					
					
					<li>
						<a class="page-link" href="/Other/">
							其他
						</a>
					</li>
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					<!-- Social icons from Font Awesome, if enabled -->
					<li>
						<a class="page-link" href="">Find Me</a>
						<ul class="children">












<li>
	<a href="https://github.com/cyan24" title="Follow on GitHub">
		<i class="fa fa-fw fa-github"></i>
	</a>
</li>























<li>
	<a href="https://twitter.com/cyan24" title="Follow on Twitter">
		<i class="fa fa-fw fa-twitter"></i>
	</a>
</li>







<li>
	<a href="mailto:chianzjcy@aliyun.com" title="Email">
		<i class="fa fa-fw fa-envelope"></i>
	</a>
</li>
</ul>
					</li>
					
				</ul>
			</nav>

			<div id="et_mobile_nav_menu">
				<div class="mobile_nav closed">
					<span class="select_page"></span>
					<span class="mobile_menu_bar"></span>
				</div>
			</div>				
		</div> <!-- #et-top-navigation -->
	</div> <!-- .container -->
	<div class="et_search_outer">
		<div class="container et_search_form_container">
			<form role="search" method="get" class="et-search-form" action="http://cyan24.github.io">
			<input type="search" class="et-search-field" placeholder="搜索 &hellip;" value="" name="s" title="搜索：" /></form>
			<span class="et_close_search_field"></span>
		</div>
	</div>
</header> <!-- #main-header -->

    		<div id="et-main-area">
      			<div class="home">
  <article class="home-feature-image" >
  <div style="background-image: url('/img/sample_feature_img.png')"/>
  <header style="background-image: url('https://source.unsplash.com/category/nature/2600x500')">
    <p class="call-out-content">  </p>
  </header>
  </article>

	<div class="posts">
	
		
	

	
		<div class="post-teaser">
		  <header>
		    <h1>
		      <a id="post-link-trans" class="post-link" href="/blog/example-post-formatting/">
		        Example Post Formatting
		      </a>
		    </h1>
		    <p id="subtitletrans" class="subtitlecontainer">
		      <a class="subtitle">2015年12月15日</a>
		       | <a class="subtitle" href="/about/">cyan</a>
		       | <a class="subtitle">  <i class="fa fa-book"></i>: <a href="/前端/">前端</a></a> <a class="subtitle">  <i class="fa fa-tags"></i>: <a href="/tags/javascript/">Javascript</a>, <a href="/tags/github/">GitHub</a></a>
		    </p>
		  </header>
		  <div class="excerpt">
		  
		  
		    <p class="intro"><span class="dropcap">C</span>urabitur blandit tempus porttitor. Nullam quis risus eget urna mollis ornare vel eu leo. Vestibulum id ligula porta felis euismod semper. Donec sed odio dui. Aenean lacinia bibendum nulla sed consectetur.</p> <h1>Heading 1</h1> <h2>Heading 2</h2> <h3>Heading 3</h3> <h4>Heading 4</h4> <h5>Heading 5</h5> <h6>Heading 6</h6> <blockquote>Aenean lacinia bibendum nulla sed consectetur. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Nulla vitae elit libero, a pharetra augue. Curabitur blandit tempus porttitor. Donec sed odio dui. Cras mattis consectetur purus sit amet fermentum.</blockquote> <p>Nullam quis risus eget urna mollis ornare vel eu leo. Cras mattis consectetur purus sit amet fermentum. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.</p> <h2>Unordered List</h2> <ul> <li>List Item</li> <li>Longer List Item <ul> <li>Nested List Item</li> <li>Nested Item</li> </ul></li> <li>List Item</li> </ul> <h2>Ordered List</h2> <ol> <li>List Item</li> <li>Longer List Item <ol> <li>Nested OL Item</li> <li>Another Nested Item</li> </ol></li> <li>List Item</li> </ol> <h2>Definition List</h2> <dl> <dt>Coffee</dt> <dd>Black hot drink</dd> <dt>Milk</dt> <dd>White cold drink</dd> </dl> <p>Donec id elit non mi porta gravida at eget metus. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Maecenas faucibus mollis interdum. Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam.</p> <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Curabitur blandit tempus porttitor. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec id elit non mi porta gravida at eget metus. Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum. Sed posuere consectetur est at lobortis. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.</p> <p>Maecenas faucibus mollis interdum. Maecenas faucibus mollis interdum. Duis mollis, est non commodo luctus, nisi...
		    <p>
		    <a class="text" href="/blog/example-post-formatting/">
		      Continue Reading...
		    </a>
		    </p>
		  
		  </div>
		</div>
		
		
	

	
		<div class="post-teaser">
		  <header>
		    <h1>
		      <a id="post-link-trans" class="post-link" href="/blog/%E7%A7%BB%E5%8A%A8%E7%AB%AFa%E6%A0%87%E7%AD%BEhref%E7%82%B9%E5%87%BB%E8%B7%B3%E8%BD%AC%E5%88%B0%E4%B8%8B%E4%B8%80%E4%B8%AA%E9%A1%B5%E9%9D%A2%E5%90%8C%E4%BD%8D%E7%BD%AE%E4%B8%8A%E7%9A%84-a-href-%E7%A9%BF%E9%80%8F%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6%E8%A7%A3%E5%86%B3/">
		        移动端a标签href点击跳转到下一个页面同位置上的< a href>穿透点击事件解决
		      </a>
		    </h1>
		    <p id="subtitletrans" class="subtitlecontainer">
		      <a class="subtitle">2015年10月22日</a>
		       | <a class="subtitle" href="/about/">cyan</a>
		       | <a class="subtitle">  <i class="fa fa-book"></i>: <a href="/前端/">前端</a></a> <a class="subtitle">  <i class="fa fa-tag"></i>: <a href="/tags/html5/">html5</a></a>
		    </p>
		  </header>
		  <div class="excerpt">
		  
		  
		    <p>项目中遇到的一个问题。移动开发的h5页面上，点击前一个页面的a标签，进入下一个页面后，此时下一个页面的相同位置上也有一个a标签，此时会将后一个页面中的a标签点击触发。</p>

<p><strong><em>解决方案：</em></strong></p>

<p>将原来的&lt; a&gt;标签改为 div ，用移动端的 ontouchstart 事件代替，此时前一个页面点击事件不会穿透到下一个页面同位置的点击区域。</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
         <span class="kd">var</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;operate_tbkp&quot;</span><span class="p">);</span>
         <span class="c1">//touchstart类似mousedown</span>
         <span class="c1">//div.ontouchstart = function(e){</span>
         <span class="nx">div</span><span class="p">.</span><span class="nx">ontouchstart</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
         <span class="c1">//事件的touches属性是一个数组，其中一个元素代表同一时刻的一个触控点，从而可以通过touches获取多点触控的每个触控点</span>
         <span class="c1">//由于我们只有一点触控，所以直接指向[0]</span>
         <span class="c1">//var touch = e.touches[0];</span>
         <span class="c1">//获取当前触控点的坐标，等同于MouseEvent事件的clientX/clientY</span>
         <span class="c1">//var x = touch.clientX;</span>
         <span class="c1">//var y = touch.clientY;</span>
         <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="o">=</span><span class="s1">&#39;../applicationformAppcs/formBilling&#39;</span><span class="p">;</span>
         <span class="p">};</span>
 <span class="p">})</span>
</code></pre></div>
		  
		  </div>
		</div>
		
		
	

	
		<div class="post-teaser">
		  <header>
		    <h1>
		      <a id="post-link-trans" class="post-link" href="/blog/H5%E5%BC%80%E5%8F%91%E4%B8%AD%E5%9B%9B%E7%A7%8D%E9%A1%B5%E9%9D%A2%E6%A8%AA%E5%90%91%E6%BB%91%E5%8A%A8%E6%A8%A1%E5%BC%8F/">
		        H5开发中四种页面横向滑动模式
		      </a>
		    </h1>
		    <p id="subtitletrans" class="subtitlecontainer">
		      <a class="subtitle">2015年09月20日</a>
		       | <a class="subtitle" href="/about/">cyan</a>
		       | <a class="subtitle">  <i class="fa fa-book"></i>: <a href="/前端/">前端</a></a> <a class="subtitle">  <i class="fa fa-tag"></i>: <a href="/tags/html5/">html5</a></a>
		    </p>
		  </header>
		  <div class="excerpt">
		  
		  
		    <p>近年来移动网络速率的提升以及设备硬件水平的不断提高，webapp朝着更趋向于native化的水平发展，其表现效果和性能也会越来越好，现在来看未来很有可能替代native或者平起平坐，那么我们研究更好的交互体验是非常有必要的。</p> <p>目前我们所常见的webapp越来越多的是以SPA(single page application)的模式进行开发，同时嵌套在android或者ios本地壳里面，也就是hybrid应用，这种开发方式所带来的优势就不多讨论，本文研究的重点是在SPA模式中，页面间横向滑动切换场景时模式是怎样设计的，将展示并阐述四种横向滑动模式的架构布局及CSS设计方案，供大家参考。</p> <p>一、容器整体滑动（DEMO只演示A-B-C-B，下同） 模拟动画效果见下图(上)，滑动分解见下图(下)：</p> <p><img src="/img/post/1509201.gif" alt=""> </p> <p><img src="/img/post/1509202.jpg" alt=""> </p> <p><a href="http://nirvana.sinaapp.com/demo_slider/slider_1.html">demo</a></p> <p>布局方式：父容器相对定位并撑满整个device的viewport，子页面绝对定位并依次并排排列在viewport中（从左到右）</p> <div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.view-container</span> <span class="p">{</span> <span class="o">//</span> <span class="err">父容器布局方式</span> <span class="k">position</span><span class="o">:</span> <span class="k">relative</span><span class="p">;</span> <span class="k">width</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span> <span class="k">height</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span> <span class="k">padding-top</span><span class="o">:</span> <span class="m">44px</span><span class="p">;</span> <span class="n">box</span><span class="o">-</span><span class="n">sizing</span><span class="o">:</span> <span class="k">border</span><span class="o">-</span><span class="n">box</span><span class="p">;</span> <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">transform</span><span class="o">:</span> <span class="n">translate3d</span><span class="p">(</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="p">);</span> <span class="o">//</span><span class="err">激活</span><span class="n">GPU</span> <span class="m">3</span><span class="n">D</span><span class="err">加速</span> <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">backface</span><span class="o">-</span><span class="k">visibility</span><span class="o">:</span> <span class="k">hidden</span><span class="p">;</span> <span class="p">}</span> <span class="nc">.page-container</span> <span class="p">{</span> <span class="o">//</span> <span class="err">子页面布局方式</span> <span class="k">position</span><span class="o">:</span> <span class="k">absolute</span><span class="p">;</span> <span class="k">z-index</span><span class="o">:</span> <span class="m">1</span><span class="p">;</span> <span class="k">top</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span> <span class="k">left</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span> <span class="o">//</span> <span class="err">初始化为</span><span class="m">0</span><span class="err">，动态计算第</span><span class="n">N</span><span class="err">个</span><span class="k">page</span><span class="err">，并赋值</span><span class="p">(</span><span class="n">N</span><span class="m">-1</span><span class="p">)</span><span class="o">*</span><span class="m">100%</span> <span class="k">width</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span> <span class="k">height</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span> <span class="k">overflow</span><span class="o">:</span> <span class="k">hidden</span><span class="p">;</span> <span class="k">background-color</span><span class="o">:</span> <span class="m">#F8F8F8</span><span class="p">;</span> <span class="p">}</span> </code></pre></div> <p>滑动方式：父容器利用CSS3的动画transform3D进行X轴的滑动(JS控制直接喷到DOM节点中)</p> <hr> <p>二、单个页面滑动 模拟动画效果，见下图：</p> <p><img src="/img/post/1509202.gif" alt=""> </p> <p><img src="/img/post/1509203.jpg" alt=""> </p> <p><a href="http://nirvana.sinaapp.com/demo_slider/slider_2.html">demo</a></p> <p>布局方式：父容器高度100%，子容器正常文档流布局（X轴隐藏，Y轴默认原生滚动）</p> <div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.view-container</span> <span class="p">{</span> <span class="k">height</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span> <span class="p">}</span> <span class="nc">.page-container</span> <span class="p">{</span> <span class="k">position</span><span class="o">:</span> <span class="k">relative</span><span class="p">;</span> <span class="k">width</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span> <span class="k">min-height</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span> <span class="k">overflow-x</span><span class="o">:</span> <span class="k">hidden</span><span class="p">;</span> <span class="k">background-color</span><span class="o">:</span> <span class="m">#F8F8F8</span><span class="p">;</span> <span class="p">}</span> </code></pre></div> <p>滑动方式：利用class添加动画样式（keyframes animation），左右进出各一种</p> <div class="highlight"><pre><code class="language-css" data-lang="css"> <span class="k">@-webkit-keyframes</span> <span class="nt">sliderightout</span><span class="p">{</span><span class="nt">from</span><span class="p">{</span><span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">transform</span><span class="o">:</span><span class="n">translateX</span><span class="p">(</span><span class="m">0px</span><span class="p">);</span><span class="k">opacity</span><span class="o">:</span><span class="m">1</span><span class="p">}</span><span class="nt">to</span><span class="p">{</span><span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">transform</span><span class="o">:</span><span class="n">translateX</span><span class="p">(</span><span class="m">50%</span><span class="p">);</span><span class="k">opacity</span><span class="o">:</span><span class="m">0</span><span class="p">}}</span> <span class="k">@-webkit-keyframes</span> <span class="nt">slideleftin</span><span class="p">{</span><span class="nt">from</span><span class="p">{</span><span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">transform</span><span class="o">:</span><span class="n">translateX</span><span class="p">(</span><span class="m">-50%</span><span class="p">);</span><span class="k">opacity</span><span class="o">:</span><span class="m">0</span><span...
		    <p>
		    <a class="text" href="/blog/H5%E5%BC%80%E5%8F%91%E4%B8%AD%E5%9B%9B%E7%A7%8D%E9%A1%B5%E9%9D%A2%E6%A8%AA%E5%90%91%E6%BB%91%E5%8A%A8%E6%A8%A1%E5%BC%8F/">
		      Continue Reading...
		    </a>
		    </p>
		  
		  </div>
		</div>
		
		
	

	
		<div class="post-teaser">
		  <header>
		    <h1>
		      <a id="post-link-trans" class="post-link" href="/blog/%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87tab%E5%9C%86%E8%A7%92%E5%9B%BE%E7%89%87-%E5%87%BA%E7%8E%B0%E9%98%B4%E5%BD%B1%E8%A7%A3%E7%9A%84bug/">
		        移动设备tab圆角图片，出现阴影解的bug
		      </a>
		    </h1>
		    <p id="subtitletrans" class="subtitlecontainer">
		      <a class="subtitle">2015年09月18日</a>
		       | <a class="subtitle" href="/about/">cyan</a>
		       | <a class="subtitle">  <i class="fa fa-book"></i>: <a href="/前端/">前端</a></a> <a class="subtitle">  <i class="fa fa-tag"></i>: <a href="/tags/html5/">html5</a></a>
		    </p>
		  </header>
		  <div class="excerpt">
		  
		  
		    <p>做好的页面在手机端测试时，发现部分浏览器，tap后会出现一个半透明的灰色背景，发现是tap后的背景高亮，要重设这个表现，则需要设置-webkit-tap-highlight-color为所需色彩，直接透明吧：</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">a</span><span class="o">,</span><span class="nt">img</span><span class="o">,</span><span class="nt">button</span><span class="o">,</span><span class="nt">input</span><span class="o">,</span><span class="nt">textarea</span><span class="p">{</span><span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">tap</span><span class="o">-</span><span class="n">highlight</span><span class="o">-</span><span class="k">color</span><span class="o">:</span><span class="n">rgba</span><span class="p">(</span><span class="m">255</span><span class="o">,</span><span class="m">255</span><span class="o">,</span><span class="m">255</span><span class="o">,</span><span class="m">0</span><span class="p">);}</span>
</code></pre></div>
<p>另外，如何去掉textarea,input的默认样式（IOS上的圆角及内阴影等，Android未测试）：</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">input</span><span class="o">,</span><span class="nt">textarea</span><span class="p">{</span><span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">appearance</span><span class="o">:</span><span class="k">none</span><span class="p">;}</span>
</code></pre></div>
		  
		  </div>
		</div>
		
		
	

	
		<div class="post-teaser">
		  <header>
		    <h1>
		      <a id="post-link-trans" class="post-link" href="/blog/zepto-lazyload%E5%9B%BE%E7%89%87/">
		        zepto lazyload图片
		      </a>
		    </h1>
		    <p id="subtitletrans" class="subtitlecontainer">
		      <a class="subtitle">2015年04月24日</a>
		       | <a class="subtitle" href="/about/">cyan</a>
		       | <a class="subtitle">  <i class="fa fa-book"></i>: <a href="/前端/">前端</a></a> <a class="subtitle">  <i class="fa fa-tag"></i>: <a href="/tags/zepto/">zepto</a></a>
		    </p>
		  </header>
		  <div class="excerpt">
		  
		  
		    <p>图片懒加载有很多js插件，非常著名的属jQuery的Lazy Load了。自己做手机项目上也需要图片懒加载，而且手机上的图片懒加载有两种：一种是普通img标签的，一种是div标签（或者其他标签）上加背景图片的。所以就练手写了个支持以上两种情况的Zepto小插件。</p>

<h3>功能：</h3>

<p>支持img标签图片懒加载、div标签（或者其他标签）的背景图片懒加载；
支持预加载。默认是图片出现在屏幕时开始加载，可以设置threshold参数，如threshold:100，此时图片出现在屏幕之前100px时开始加载；
背景图片懒加载时，自动添加base64的1*1透明图片做默认背景图。也可以自定义默认背景图，参数为placeholder。</p>

<h3>使用方法：</h3>

<p>引用1.1.3的Zepto（我只测过这个目前最新版），并引用picLazyLoad.js</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;1.1.3/zepto.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;1.0/zepto.picLazyLoad.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div>
<p>在要懒加载的标签上，加类名或者id名，方便调用。在标签上加data-original=&quot;original.jpg&quot;，original.jpg为实际加载图片路径。如果是img标签，还需要加src=&quot;blank.png&quot;。blank.png为默认背景图，建议用base64图。例如：</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">&quot;test-lazyload&quot;</span> <span class="na">src=</span><span class="s">&quot;blank.png&quot;</span> <span class="na">data-original=</span><span class="s">&quot;original.jpg&quot;</span><span class="nt">&gt;&lt;div</span> <span class="na">class=</span><span class="s">&quot;test-lazyload&quot;</span> <span class="na">data-original=</span><span class="s">&quot;original.jpg&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</code></pre></div>
<p><strong><em>调用:</em></strong></p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.test-lazyload&#39;</span><span class="p">).</span><span class="nx">picLazyLoad</span><span class="p">();</span>
</code></pre></div>
<p>如需加参数：</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.test-lazyload&#39;</span><span class="p">).</span><span class="nx">picLazyLoad</span><span class="p">({</span>
    <span class="nx">threshold</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="nx">placeholder</span><span class="o">:</span> <span class="s1">&#39;http://image.yihaodianimg.com/front-homepage/global/images/blank.gif&#39;</span>
<span class="p">});</span>
</code></pre></div>
<p><a href="http://ons.me/wp-content/uploads/2014/05/picLazyLoad/">→示例DEMO←</a></p>

<ul>
<li>已知问题：
iPhone 5S 7.1.1里，所有浏览器，网页滑到下面，刷新网页，不执行onscroll方法，获取不到scrolltop值。导致此时刷新网页，网页下方的图片没有默认加载。</li>
<li><p>待增加功能：
现在是直接显示图片show，以后增加fadeIn图片淡入；
现在是只能根据窗口懒加载图片，待增加根据容器、tab选项卡等。</p></li>
<li><p>小提示：
使用背景图片比使用img标签懒加载浏览器显示速度要快，不知道是不是后者多了一步替换src路径操作导致的；
如果要兼容更多的设备，使用背景图片可以显示更清晰，因为可以设置background-size，之前的文章有提到过。</p></li>
</ul>

		  
		  </div>
		</div>
		
	</div>

	<div class="wp-pagenavi">
	    <span class='pages'>第 1 页，共 7 页</span>

	    

	      
	        <span class="current">1</span>
	      
	   
	    
	        
	          <a class="page larger" href="/blog/page2">2</a>
	        
	    
	        
	          <a class="page larger" href="/blog/page3">3</a>
	        
	    
	        
	          <a class="page larger" href="/blog/page4">4</a>
	        
	    
	        
	          <a class="page larger" href="/blog/page5">5</a>
	        
	    
	        
	          <a class="page larger" href="/blog/page6">6</a>
	        
	    
	        
	          <a class="page larger" href="/blog/page7">7</a>
	        
	    

	    
	    	<a class="nextpostslink" rel="next" href="/blog/page2" > » </a>
	    

	</div>
</div>
    		</div> <!-- #et-main-area -->
		</div> <!-- #page-container -->
		
<script src="/js/katex_init.js"></script>



<footer id="page-footer-trans" class="page-footer">
	<!--<p class="text"><a href="https://cyan24.github.io">Cyan的技术笔记</a> 
</p>-->
	Copyright &copy; 2016 <a href="https://cyan24.github.io">Cyan的技术笔记</a> 
 All Rights Reserved. 
	<p class="text">Hosted by <a href="https://github.com">GitHub</a><a alt="Fork me on GitHub" href="https://github.com/cyan24">Fork me on GitHub</a></p>
</footer>


    
<!-- WP Audio player plugin v1.9.3 - https://www.tipsandtricks-hq.com/wordpress-audio-music-player-plugin-4556/ -->
    <script type="text/javascript">
        soundManager.useFlashBlock = true; // optional - if used, required flashblock.css
        soundManager.url = '/plugins/soundmanager2.swf';
        function play_mp3(flg, ids, mp3url, volume, loops)
        {
            //Check the file URL parameter value
            var pieces = mp3url.split("|");
            if (pieces.length > 1) {//We have got an .ogg file too
                mp3file = pieces[0];
                oggfile = pieces[1];
                //set the file URL to be an array with the mp3 and ogg file
                mp3url = new Array(mp3file, oggfile);
            }

            soundManager.createSound({
                id: 'btnplay_' + ids,
                volume: volume,
                url: mp3url
            });

            if (flg == 'play') {
                    soundManager.play('btnplay_' + ids, {
                    onfinish: function() {
                        if (loops == 'true') {
                            loopSound('btnplay_' + ids);
                        }
                        else {
                            document.getElementById('btnplay_' + ids).style.display = 'inline';
                            document.getElementById('btnstop_' + ids).style.display = 'none';
                        }
                    }
                });
            }
            else if (flg == 'stop') {
    //soundManager.stop('btnplay_'+ids);
                soundManager.pause('btnplay_' + ids);
            }
        }
        function show_hide(flag, ids)
        {
            if (flag == 'play') {
                document.getElementById('btnplay_' + ids).style.display = 'none';
                document.getElementById('btnstop_' + ids).style.display = 'inline';
            }
            else if (flag == 'stop') {
                document.getElementById('btnplay_' + ids).style.display = 'inline';
                document.getElementById('btnstop_' + ids).style.display = 'none';
            }
        }
        function loopSound(soundID)
        {
            window.setTimeout(function() {
                soundManager.play(soundID, {onfinish: function() {
                        loopSound(soundID);
                    }});
            }, 1);
        }
        function stop_all_tracks()
        {
            soundManager.stopAll();
            var inputs = document.getElementsByTagName("input");
            for (var i = 0; i < inputs.length; i++) {
                if (inputs[i].id.indexOf("btnplay_") == 0) {
                    inputs[i].style.display = 'inline';//Toggle the play button
                }
                if (inputs[i].id.indexOf("btnstop_") == 0) {
                    inputs[i].style.display = 'none';//Hide the stop button
                }
            }
        }
    </script>
    <script type='text/javascript' src="/js/frontend-builder-global-functions.js"></script>
<script type='text/javascript' src="/js/custom.js"></script>
<script type='text/javascript' src="/js/jquery.fitvids.js"></script>
<script type='text/javascript' src="/js/waypoints.min.js"></script>
<script type='text/javascript' src="/js/jquery.magnific-popup.js"></script>
<script type='text/javascript'>
/* <![CDATA[ */
var et_custom = {"ajaxurl":"http:\/\/blog.ibireme.com\/wp-admin\/admin-ajax.php","images_uri":"http:\/\/blog.ibireme.com\/wp-content\/themes\/Divi\/images","builder_images_uri":"http:\/\/blog.ibireme.com\/wp-content\/themes\/Divi\/includes\/builder\/images","et_load_nonce":"ae39988568","subscription_failed":"Please, check the fields below to make sure you entered the correct information.","fill":"Fill","field":"field","invalid":"Invalid email","captcha":"Captcha","prev":"Prev","previous":"\u4e0a\u4e00\u9875","next":"\u4e0b\u4e00\u9875","is_builder_plugin_used":""};
/* ]]> */
</script>
<script type='text/javascript' src="/js/frontend-builder-scripts.js"></script>
  </body>
</html>
