<!DOCTYPE html>
<!--[if IE 6]>
<html id="ie6" lang="zh-CN">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="zh-CN">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="zh-CN">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
<html lang="zh-CN" class="js">
<!--<![endif]-->
  

	

	
<head>
	<meta charset="utf-8">
	<title> Cyan的技术笔记</title>
	<meta name="description" content="Cyan的技术笔记">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-Frame-Options" content="sameorigin">
	<!-- CSS -->
	<link rel="stylesheet" href="/css/main.css">
	<link rel='stylesheet' id='divi-style-css'  href="/css/style.css" type='text/css' media='all' />
	<link rel="stylesheet" href="/css/post.style.css">

	<script type='text/javascript' src="/js/jquery.js"></script>
	<script type='text/javascript' src="/js/soundmanager2-nodebug-jsmin.js"></script>

	<!--Favicon-->
	<link rel="icon" href="favicon.ico" type="image/x-icon"/>
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	
	<link href="/favicon.ico" mce_href="favicon.ico" rel="bookmark" type="image/x-icon" /> 
	<link href="/favicon.ico" mce_href="favicon.ico" rel="icon" type="image/x-icon" /> 
	<link href="/favicon.ico" mce_href="favicon.ico" rel="shortcut icon" type="image/x-icon" /> 
	<!-- Canonical -->
	<link rel="canonical" href="http://localhost:4000/blog/page5/">

	<!-- RSS -->
	<link rel="alternate" type="application/atom+xml" title="Cyan的技术笔记" href="http://localhost:4000/feed.xml" />

	<!-- Font Awesome -->
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

	<!-- Google Fonts -->
	
	<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic" rel="stylesheet" type="text/css">
	

	<!-- KaTeX -->
	
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.3.0/katex.min.css">
	<script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.3.0/katex.min.js"></script>
	

	<!-- Google Analytics -->
	

	<script type="text/javascript">
    var host = "cyan24.com";
    if ((host == window.location.host) && (window.location.protocol != "https:"))
        window.location.protocol = "https";
    </script>
    
</head>

	<body class="home blog et_pb_button_helper_class home-posts et_fixed_nav et_show_nav et_cover_background et_pb_gutter windows et_pb_gutters3 et_primary_nav_dropdown_animation_fade et_secondary_nav_dropdown_animation_fade et_pb_footer_columns4 et_header_style_left et_right_sidebar chrome">
		<div id="page-container">
    		<header id="main-header" data-height-onload="66">
	<div class="container clearfix et_menu_container">
		<div class="logo_container">
			<span class="logo_helper"></span>
			<a href="/">
				<!--img src="http://blog.ibireme.com/wp-content/uploads/2015/05/logo1.png" alt="Garan no dou" id="logo" data-height-percentage="54" /-->
				Cyan的技术笔记
			</a>
		</div>
		<div id="et-top-navigation" data-height="66" data-fixed-height="40">
			<nav id="top-menu-nav">
				<ul id="top-menu" class="nav">
					<li>
						<a class="page-link" href="/">
							首页
						</a>
					</li>
					
					
					
					
					<li>
						<a class="page-link" href="/About/">
							关于我
						</a>
					</li>
					
					
					
					<li>
						<a class="page-link" href="/Archives/">
							所有文章
						</a>
					</li>
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					<li>
						<a class="page-link" href="/front/">
							前端开发
						</a>
					</li>
					
					
					
					
					
					
					
					<li>
						<a class="page-link" href="/server/">
							后端开发
						</a>
					</li>
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					<!-- Social icons from Font Awesome, if enabled -->
					<li>
						<a class="page-link" href="">Find Me</a>
						<ul class="children">












<li>
	<a href="https://github.com/cyan24" title="Follow on GitHub">
		<i class="fa fa-fw fa-github"></i>
	</a>
</li>





























<li>
	<a href="mailto:chinazjcy@aliyun.com" title="Email">
		<i class="fa fa-fw fa-envelope"></i>
	</a>
</li>
</ul>
					</li>
					
				</ul>
			</nav>

			<div id="et_mobile_nav_menu">
				<div class="mobile_nav closed">
					<span class="select_page"></span>
					<span class="mobile_menu_bar"></span>
				</div>
			</div>				
		</div> <!-- #et-top-navigation -->
	</div> <!-- .container -->
	<div class="et_search_outer">
		<div class="container et_search_form_container">
			<form role="search" method="get" class="et-search-form" action="http://localhost:4000">
			<input type="search" class="et-search-field" placeholder="搜索 &hellip;" value="" name="s" title="搜索：" /></form>
			<span class="et_close_search_field"></span>
		</div>
	</div>
</header> <!-- #main-header -->

    		<div id="et-main-area">
      			<div class="home">
  <article class="home-feature-image" >
  <div style="background-image: url('/img/sample_feature_img.png')"/>
  <header style="background-image: url('https://source.unsplash.com/category/nature/2600x500')">
    <p class="call-out-content">  </p>
  </header>
  </article>

	<div class="posts">
	
		
	

	
		<div class="post-teaser">
		  <header>
		    <h1>
		      <a id="post-link-trans" class="post-link" href="/blog/DOM%E6%A0%87%E5%87%86%E4%B8%8EIE%E7%9A%84html%E4%BA%8B%E4%BB%B6%E6%A8%A1%E5%9E%8B%E5%8C%BA%E5%88%AB-%E8%BD%AC%E8%BD%BD/">
		        DOM标准与IE的html事件模型区别（转载）
		      </a>
		    </h1>
		    <p id="subtitletrans" class="subtitlecontainer">
		      <a class="subtitle">2014年11月15日</a>
		       | <a class="subtitle" href="/about/">cyan</a>
		       | <a class="subtitle">  <i class="fa fa-book"></i>: <a href="/前端/">前端</a></a> <a class="subtitle">  <i class="fa fa-tag"></i>: <a href="/tags/javascript/">Javascript</a></a>
		    </p>
		  </header>
		  <div class="excerpt">
		  
		  
		    <p><strong>事件</strong></p> <p>HTML元素事件是浏览器内在自动产生的,当有事件发生时html元素会向外界(这里主要指元素事件的订阅者)发出各种事件,如click,onmouseover,onmouseout等等。</p> <p><strong>DOM事件流</strong></p> <p>DOM(文档对象模型)结构是一个树型结构，当一个HTML元素产生一个事件时，该事件会在元素结点与根结点之间的路径传播，路径所经过的结点都会收到该事件，这个传播过程可称为DOM事件流。</p> <p><strong>主流浏览器的事件模型</strong></p> <p>早在2004前在HTML元素事件的订阅，发送，传播，处理模型上各浏览器实现并不一致，直到DOM Level3中规定后，多数主流浏览器才陆陆续续支持DOM标准的事件处理模型 — 捕获型与冒泡型。 目前除IE浏览器外，其它主流的Firefox, Opera, Safari都支持标准的DOM事件处理模型。IE仍然使用自己的模型，即冒泡型，它模型的一部份被DOM采用，这点对于开发者来说也是有好处的，只使用DOM标准，IE都共有的事件处理方式才能有效的跨浏览器。</p> <p><strong>冒泡型事件(Bubbling)</strong></p> <p>这是IE浏览器对事件模型的实现，也是最容易理解的，至少笔者觉得比较符合实际的。冒泡，顾名思义，事件像个水中的气泡一样一直往上冒，直到顶端。从DOM树型结构上理解，就是事件由叶子结点沿祖先结点一直向上传递直到根结点；从浏览器界面视图HTML元素排列层次上理解就是事件由具有从属关系的最确定的目标元素一直传递到最不确定的目标元素.</p> <p><strong>捕获型事件(Capturing)</strong></p> <p>Netscape Navigator的实现，它与冒泡型刚好相反，由DOM树最顶层元素一直到最精确的元素，这个事件模型对于开发者来说（至少是我..）有点费解，因为直观上的理解应该如同冒泡型，事件传递应该由最确定的元素，即事件产生元素开始。 但这个模型在某些情况下也是很有用的，接下来会讲解到。</p> <p><img src="/img/post/1412270.jpg" alt="" /></p> <p><strong>DOM标准事件模型</strong></p> <p>因为两个不同的模型都有其优点和解释，DOM标准支持捕获型与冒泡型，可以说是它们两者的结合体。它可以在一个DOM元素上绑定多个事件处理器，并且在处理函数内部，this关键字仍然指向被绑定的DOM元素，另外处理函数参数列表的第一个位置传递事件event对象。</p> <p>首先是捕获式传递事件，接着是冒泡式传递，所以，如果一个处理函数既注册了捕获型事件的监听，又注册冒泡型事件监听，那么在DOM事件模型中它就会被调用两次。</p> <p><img src="/img/post/1412271.jpg" alt="" /></p> <p>注册与移除事件监听器</p> <p>注册事件监听器，或又称订阅事件，当元素事件发生时浏览器回调该监听函数执行事件处理。目前主流浏览器中有两种注册事件的方法，一种是IE浏览器的，另一种是DOM标准的。</p> <p>1、直接JS或HTML挂载法</p> <pre><code class="language-html">&lt;div onclick="alert(this.innerHTML);"&gt; element.onclick = function(){alert(this.innerHTML);} </code></pre> <p>移除时将事件属性设为nul即可，这个也是最常用的方法了，优缺点也是显然的：</p> <p>简单方便，在HTML中直接书写处理函数的代码块，在JS中给元素对应事件属性赋值即可 IE与DOM标准都支持的一种方法，它在IE与DOM标准中都是在事件冒泡过程中被调用的。 可以在处理函数块内直接用this引用注册事件的元素 要给元素注册多个监听器，就不能用这方法了</p> <p>2、IE下注册多个事件监听器与移除监听器方法</p> <p>IE浏览器中HTML元素有个attachEvent方法允许外界注册该元素多个事件监听器,例如</p> <p>element.attachEvent(‘onclick’, observer); attachEvent接受两个参数。第一个参数是事件名称，第二个参数observer是回调处理函数。这里得说明一下，有个经常会出错的地方，IE下利用attachEvent注册的处理函数调用时this指向不再是先前注册事件的元素，这时的this为window对象了，笔者很奇怪IE为什么要这么做，完全看不出好处所在。 要移除先前注册的事件的监听器,调用element的detachEvent方法即可，参数相同。</p> <p>element.detachEvent(‘onclick’, observer); 3、 DOM标准下注册多个事件监听器与移除监听器方法</p> <p>实现DOM标准的浏览器与IE浏览器中注册元素事件监听器方式有所不同，它通过元素的addEventListener方法注册，该方法既支持注册冒泡型事件处理，又支持捕获型事件处理。</p> <p>element.addEventListener(‘click’, observer, useCapture); addEventListener方法接受三个参数。第一个参数是事件名称，值得注意的是，这里事件名称与IE的不同，事件名称是没’on’开头的;第二个参数observer是回调处理函数;第三个参数注明该处理回调函数是在事件传递过程中的捕获阶段被调用还是冒泡阶段被调用</p> <p>移除已注册的事件监听器调用element的removeEventListener即可，参数不变.</p> <p>element.removeEventListener(‘click’, observer, useCapture);</p> <p>跨浏览器的注册与移除元素事件监听器方案</p> <p>弄清楚DOM标准与IE的注册元素事件监听器之间的异同后，就可以实现一个跨浏览器的注册与移除元素事件监听器方案:</p> <pre><code class="language-javascript">//注册 function addEventHandler(element, evtName, callback, useCapture) { //DOM标准 if (element.addEventListener) { element.addEventListener(evtName, callback, useCapture); }else { //IE方式,忽略useCapture参数 element.attachEvent('on' + evtName, callback); } } //移除 function removeEventHandler(element, evtName, callback, useCapture) { //DOM标准 if (element.removeEventListener) { element.removeEventListener(evtName, callback, useCapture); }else { //IE方式,忽略useCapture参数 element.dettachEvent('on' + evtName, callback); } } </code></pre> <p>如何取消浏览器事件的传递与事件传递后浏览器的默认处理</p> <p>先说明取消事件传递与浏览器事件传递后的默认处理是两个不同的概念，可能很多同学朋友分不清，或者根本不存在这两个概念。</p> <p>取消事件传递是指，停止捕获型事件或冒泡型事件的进一步传递。例如上图中的冒泡型事件传递中，在body处理停止事件传递后，位于上层的document的事件监听器就不再收到通知，不再被处理。</p> <p>事件传递后的默认处理是指，通常浏览器在事件传递并处理完后会执行与该事件关联的默认动作（如果存在这样的动作）。例如，如果表单中input type 属性是 “submit”，点击后在事件传播完浏览器就就自动提交表单。又例如，input 元素的 keydown 事件发生并处理后，浏览器默认会将用户键入的字符自动追加到 input 元素的值中。</p> <p>要取消浏览器的件传递,IE与DOM标准又有所不同。</p> <p>在IE下,通过设置event对象的cancelBubble为true即可。</p> <pre><code class="language-javascript">function someHandle() { window.event.cancelBubble = true; } </code></pre> <p>DOM标准通过调用event对象的stopPropagation()方法即可。</p> <p>``javascript function someHandle(event) { event.stopPropagation(); }</p> <pre><code> 因些，跨浏览器的停止事件传递的方法是: ```javascript function someHandle(event) { event = event || window.event; if(event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true; } </code></pre> <p>取消事件传递后的默认处理，IE与DOM标准又不所不同。</p> <p>在IE下,通过设置event对象的returnValue为false即可。</p> <pre><code class="language-javascript">function someHandle() { window.event.returnValue = false; } </code></pre> <p>DOM标准通过调用event对象的preventDefault()方法即可。</p> <pre><code class="language-javascript">function someHandle(event) { event.preventDefault(); } </code></pre> <p>因些，跨浏览器的取消事件传递后的默认处理方法是：</p> <pre><code class="language-javascript">function someHandle(event) { event = event || window.event; if(event.preventDefault) event.preventDefault(); else event.returnValue = false; } </code></pre> <p>捕获型事件模型与冒泡型事件模型的应用场合</p> <p>标准事件模型为我们提供了两种方案，可能很多朋友分不清这两种不同模型有啥好处，为什么不只采取一种模型。 这里抛开IE浏览器讨论（IE只有一种，没法选择）什么情况下适合哪种事件模型。</p> <p>1、捕获型应用场合</p> <p>捕获型事件传递由最不精确的祖先元素一直到最精确的事件源元素，传递方式与操作系统中的全局快捷键与应用程序快捷键相似。当一个系统组合键发生时，如果注册了系统全局快捷键监听器，该事件就先被操作系统层捕获，全局监听器就先于应用程序快捷键监听器得到通知，也就是全局的先获得控制权，它有权阻止事件的进一步传递。所以捕获型事件模型适用于作全局范围内的监听，这里的全局是相对的全局，相对于某个顶层结点与该结点所有子孙结点形成的集合范围。</p> <p>例如你想作全局的点击事件监听，相对于document结点与document下所有的子结点，在某个条件下要求所有的子结点点击无效，这种情况下冒泡模型就解决不了了，而捕获型却非常适合，可以在最顶层结点添加捕获型事件监听器，伪码如下:</p> <pre><code class="language-javascript">if(canEventPass == false) { //取消事件进一步向子结点传递和冒泡传递 event.stopPropagation(); //取消浏览器事件后的默认执行 event.preventDefault(); } </code></pre> <p>这样一来，当canEventPass条件为假时，document下所有的子结点click注册事件都不会被浏览器处理。</p> <p>2、 冒泡型的应用场合</p> <p>可以说我们平时用的都是冒泡事件模型，因为IE只支持这模型。这里还是说说，在恰当利用该模型可以提高脚本性能。在元素一些频繁触发的事件中，如onmousemove, onmouseover,onmouseout,如果明确事件处理后没必要进一步传递，那么就可以大胆的取消它。此外，对于子结点事件监听器的处理会对父层监听器处理造成负面影响的，也应该在子结点监听器中禁止事件进一步向上传递以消除影响。</p> <p>综合案例分析</p> <p>最后结合下面HTML代码作分析:</p> <pre><code class="language-html">&lt;body onclick="alert('current is body');"&gt; &lt;div id="div0" onclick="alert('current is '+this.id)"&gt; &lt;div id="div1" onclick="alert('current is '+this.id)"&gt; &lt;div id="div2"&gt; &lt;div id="event_source" onclick="alert('current is '+this.id)" style="height:200px;width:200px;background-color:red;"&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; </code></pre> <p>HTML运行后点击红色区域,这是最里层的DIV,根据上面说明,无论是DOM标准还是IE,直接写在html里的监听处理函数是事件冒泡传递时调用的,由最里层一直往上传递,所以会先后出现 current is event_source current is div2 current is div1 current is div0 current is body</p> <p>添加以下片段:</p> <pre><code class="language-javascript">var div2 = document.getElementById('div2'); addEventHandler(div2,'click',function(event){ event = event || window.event; if(event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true; },false); </code></pre> <p>当点击红色区域后,根据上面说明,在泡冒泡处理期间,事件传递到div2后被停止传递了,所以div2上层的元素收不到通知,所以会先后出现:</p> <p>current is event_source current is div2</p> <p>在支持DOM标准的浏览器中,添加以下代码:</p> <pre><code class="language-javascript">document.body.addEventListener('click',function(event){ event.stopPropagation(); },true);...
		    <p>
		    <a class="text" href="/blog/DOM%E6%A0%87%E5%87%86%E4%B8%8EIE%E7%9A%84html%E4%BA%8B%E4%BB%B6%E6%A8%A1%E5%9E%8B%E5%8C%BA%E5%88%AB-%E8%BD%AC%E8%BD%BD/">
		      Continue Reading...
		    </a>
		    </p>
		  
		  </div>
		</div>
		
		
	

	
		<div class="post-teaser">
		  <header>
		    <h1>
		      <a id="post-link-trans" class="post-link" href="/blog/%E8%A7%A3%E5%86%B3-%E5%9C%A8Mac-OS%E4%B8%8B%E5%BC%80%E5%8F%91html5+JS-Chrome-%E6%B5%8F%E8%A7%88%E5%99%A8-%E8%B7%A8%E5%9F%9F-%E5%92%8C-%E5%AE%89%E5%85%A8%E8%AE%BF%E9%97%AE%E9%97%AE%E9%A2%98/">
		        解决在Mac OS下开发html5+JS Chrome跨域和安全访问问题
		      </a>
		    </h1>
		    <p id="subtitletrans" class="subtitlecontainer">
		      <a class="subtitle">2014年10月12日</a>
		       | <a class="subtitle" href="/about/">cyan</a>
		       | <a class="subtitle">  <i class="fa fa-book"></i>: <a href="/前端/">前端</a></a> <a class="subtitle">  <i class="fa fa-tags"></i>: <a href="/tags/javascript/">Javascript</a>, <a href="/tags/跨域/">跨域</a>, <a href="/tags/安全/">安全</a></a>
		    </p>
		  </header>
		  <div class="excerpt">
		  
		  
		    <p>从去年到今年一直从事 Hybrid开发模式，发现在mac os下开发html5 ＋js代码会遇到好多问题，各个浏览器兼容性 做的最好的就是chrome，chrome也是最好的调试工具。</p>

<p>而且我们在一个团队的开发中经常遇到 AJAX  请求跨域的问题，跨域是让人非常头疼的问题，或者遇到  Https  证书 没有授权的问题。这些问题在goolge 的 chrome 浏览器下都可以解决的， 方法是：</p>

<p>用命令行打开 Google Chrome 就好了</p>

<p>Mac os 下面用</p>

<pre><code class="language-javascript">
/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --disable-web-security  
</code></pre>
<p>or</p>

<pre><code class="language-javascript">open -a "Google Chrome" --args --disable-web-security  
</code></pre>

<p>然后就可以看到下面的效果了：
<img src="/img/131012.jpg" alt="" /></p>

<p>Ubuntu Linux:</p>

<pre><code class="language-javascript">chromium-browser --disable-web-security  
</code></pre>

<p>windows</p>

<pre><code class="language-javascript">
chrome.exe --disable-web-security  
</code></pre>
<p>用命令行打开 Apple Safafi 方法是：</p>

<p>Mac OS 下：</p>

<p>open -a ‘/Applications/Safari.app’ –args –disable-web-security</p>

<p>Windows：</p>

<p>C:\Program Files\Safari\Safari.exe –disable-web-security</p>

		  
		  </div>
		</div>
		
		
	

	
		<div class="post-teaser">
		  <header>
		    <h1>
		      <a id="post-link-trans" class="post-link" href="/blog/%E7%90%86%E8%A7%A3HTML%E8%AF%AD%E4%B9%89%E5%8C%96/">
		        理解HTML语义化
		      </a>
		    </h1>
		    <p id="subtitletrans" class="subtitlecontainer">
		      <a class="subtitle">2014年09月19日</a>
		       | <a class="subtitle" href="/about/">cyan</a>
		       | <a class="subtitle">  <i class="fa fa-book"></i>: <a href="/前端/">前端</a></a> <a class="subtitle">  <i class="fa fa-tag"></i>: <a href="/tags/Html/">Html</a></a>
		    </p>
		  </header>
		  <div class="excerpt">
		  
		  
		    <p>###什么是HTML语义化？</p>

<p>基本上都是围绕着几个主要的标签，像标题（H1~H6）、列表（li）、强调（strong em）等等.</p>

<p>可以概括为根据内容的结构化（内容语义化），选择合适的标签（代码语义化）便于开发者阅读和写出更优雅的代码的同时让浏览器的爬虫和机器很好地解析。</p>

<p>###为什么要语义化？</p>

<ul>
  <li>
    <p>为了在没有CSS的情况下，页面也能呈现出很好地内容结构、代码结构:为了裸奔时好看；</p>
  </li>
  <li>
    <p>用户体验：例如title、alt用于解释名词或解释图片信息、label标签的活用；</p>
  </li>
  <li>
    <p>有利于SEO：和搜索引擎建立良好沟通，有助于爬虫抓取更多的有效信息：爬虫依赖于标签来确定上下文和各个关键字的权重；</p>
  </li>
  <li>
    <p>方便其他设备解析（如屏幕阅读器、盲人阅读器、移动设备）以意义的方式来渲染网页；</p>
  </li>
  <li>
    <p>便于团队开发和维护，语义化更具可读性，是下一步吧网页的重要动向，遵循W3C标准的团队都遵循这个标准，可以减少差异化。</p>
  </li>
</ul>

<p>###写HTML代码时应注意什么？</p>

<ul>
  <li>
    <p>尽可能少的使用无语义的标签div和span；</p>
  </li>
  <li>
    <p>在语义不明显时，既可以使用div或者p时，尽量用p, 因为p在默认情况下有上下间距，对兼容特殊终端有利；</p>
  </li>
  <li>
    <p>不要使用纯样式标签，如：b、font、u等，改用css设置；</p>
  </li>
  <li>
    <p>需要强调的文本，可以包含在strong或者em标签中（浏览器预设样式，能用CSS指定就不用他们），strong默认样式是加粗（不要用b），em是斜体（不用i）；</p>
  </li>
  <li>
    <p>使用表格时，标题要用caption，表头用thead，主体部分用tbody包围，尾部用tfoot包围。表头和一般单元格要区分开，表头用th，单元格用td；</p>
  </li>
  <li>
    <p>表单域要用fieldset标签包起来，并用legend标签说明表单的用途；</p>
  </li>
  <li>
    <p>每个input标签对应的说明文本都需要使用label标签，并且通过为input设置id属性，在lable标签中设置for=someld来让说明文本和相对应的input关联起来。</p>
  </li>
</ul>

<p>HTML5新增了哪些语义标签，详述之。</p>

<p><a href="http://www.html5jscss.com/html5-semantics-section.html">见这位前端大拿的blog。</a></p>

		  
		  </div>
		</div>
		
		
	

	
		<div class="post-teaser">
		  <header>
		    <h1>
		      <a id="post-link-trans" class="post-link" href="/blog/%E5%89%8D%E7%AB%AF%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%B8%80%E4%BA%9BSEO/">
		        前端需要注意的一些SEO
		      </a>
		    </h1>
		    <p id="subtitletrans" class="subtitlecontainer">
		      <a class="subtitle">2014年07月28日</a>
		       | <a class="subtitle" href="/about/">cyan</a>
		       | <a class="subtitle">  <i class="fa fa-book"></i>: <a href="/前端/">前端</a></a> <a class="subtitle">  <i class="fa fa-tag"></i>: <a href="/tags/性能优化/">性能优化</a></a>
		    </p>
		  </header>
		  <div class="excerpt">
		  
		  
		    <ol>
  <li>合理的title、description、keywords：搜索对着三项的权重逐个减小，title值强调重点即可，重要关键词出现不要超过2次，而且要靠前，不同页面title要有所不同；description把页面内容高度概括，长度合适，不可过分堆砌关键词，不同页面description有所不同；keywords列举出重要关键词即可；</li>
  <li>语义化的HTML代码，符合W3C规范：语义化代码让搜索引擎容易理解网页；</li>
  <li>重要内容HTML代码放在最前：搜索引擎抓取HTML顺序是从上到下，有的搜索引擎对抓取长度有限制，保证重要内容一定会被抓取；</li>
  <li>重要内容不要用js输出：爬虫不会执行js获取内容；
少用iframe：搜索引擎不会抓取iframe中的内容；</li>
  <li>非装饰性图片必须加alt；</li>
  <li>提高网站速度：网站速度是搜索引擎排序的一个重要指标。</li>
</ol>

		  
		  </div>
		</div>
		
		
	

	
		<div class="post-teaser">
		  <header>
		    <h1>
		      <a id="post-link-trans" class="post-link" href="/blog/JS%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%9D%97%E8%A7%84%E8%8C%83-CommonJS-AMD-CMD/">
		        JS中的模块规范(CommonJS，AMD，CMD)
		      </a>
		    </h1>
		    <p id="subtitletrans" class="subtitlecontainer">
		      <a class="subtitle">2014年06月10日</a>
		       | <a class="subtitle" href="/about/">cyan</a>
		       | <a class="subtitle">  <i class="fa fa-book"></i>: <a href="/前端/">前端</a></a> <a class="subtitle">  <i class="fa fa-tag"></i>: <a href="/tags/javascript/">Javascript</a></a>
		    </p>
		  </header>
		  <div class="excerpt">
		  
		  
		    <p>如果你听过js模块化这个东西，那么你就应该听过或CommonJS或AMD甚至是CMD这些规范咯，我也听过，但之前也真的是听听而已。</p>

<p>现在就看看吧，这些规范到底是啥东西，干嘛的。</p>

<p>一、CommonJS</p>

<p>CommonJS就是为JS的表现来制定规范，因为js没有模块的功能所以CommonJS应运而生，它希望js可以在任何地方运行，不只是浏览器中。</p>

<p>CommonJS能有一定的影响力，我觉得绝对离不开Node的人气，不过喔，Node，CommonJS，浏览器甚至是W3C之间有什么关系呢，我找到了个贴切的图：</p>

<table>
  <tbody>
    <tr>
      <td>—————浏览器—– ——————</td>
      <td> </td>
      <td>————————–CommonJS———————————-</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>BOM</td>
      <td> </td>
      <td>DOM</td>
      <td> </td>
      <td>ECMAScript</td>
      <td> </td>
      <td>FS</td>
      <td> </td>
      <td>TCP</td>
      <td> </td>
      <td>Stream</td>
      <td> </td>
      <td>Buffer</td>
      <td> </td>
      <td>……..</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>——-W3C———–</td>
      <td> </td>
      <td>—————————————Node————————————————–</td>
    </tr>
  </tbody>
</table>

<p>CommonJS定义的模块分为:{模块引用(require)} {模块定义(exports)} {模块标识(module)}</p>

<p>require()用来引入外部模块；exports对象用于导出当前模块的方法或变量，唯一的导出口；module对象就代表模块本身。</p>

<p>比如说我们就可以这样用了：</p>

<p>复制代码
1 //sum.js
2 exports.sum = function(){…做加操作..};
3 
4 //calculate.js
5 var math = require(‘sum’);
6 exports.add = function(n){
7     return math.sum(val,n);
8 };
复制代码</p>

<p>虽说Node遵循CommonJS的规范，但是相比也是做了一些取舍，填了一些新东西的。</p>

<p>不过，说了CommonJS也说了Node，那么我觉得也得先了解下NPM了。NPM作为Node的包管理器，不是为了帮助Node解决依赖包的安装问题嘛，那它肯定也要遵循CommonJS规范啦，它遵循包规范（还是理论）的。</p>

<p>CommonJS WIKI讲了它的历史，还介绍了modules和packages等。</p>

<p>二、AMD</p>

<p>CommonJS是主要为了JS在后端的表现制定的，他是不适合前端的，为什么这么说呢？</p>

<p>这需要分析一下浏览器端的js和服务器端js都主要做了哪些事，有什么不同了：</p>

<table>
  <tbody>
    <tr>
      <td>—————————————服务器端JS</td>
      <td>浏览器端JS——————————————-</td>
    </tr>
  </tbody>
</table>

 				相同的代码需要多次执行  |    代码需要从一个服务器端分发到多个客户端执行

 				CPU和内存资源是瓶颈   |    带宽是瓶颈

 				加载时从磁盘中加载   |    加载时需要通过网络加载

<hr />

<p>于是乎，AMD(异步模块定义)出现了，它就主要为前端JS的表现制定规范。</p>

<p>AMD就只有一个接口：define(id?,dependencies?,factory);</p>

<p>它要在声明模块的时候制定所有的依赖(dep)，并且还要当做形参传到factory中，像这样：</p>

<pre><code class="language-js">define(['dep1','dep2'],function(dep1,dep2){...});
</code></pre>

<p>要是没什么依赖，就定义简单的模块，下面这样就可以啦：</p>

<pre><code class="language-js">define(function(){
    var exports = {};
    exports.method = function(){...};
    return exports; });
</code></pre>

<p>咦，这里有define，把东西包装起来啦，那Node实现中怎么没看到有define关键字呢，它也要把东西包装起来呀，其实吧，只是Node隐式包装了而已…..</p>

<p>RequireJS就是实现了AMD规范的呢。</p>

<p>这有AMD的WIKI中文版，讲了很多蛮详细的东西，用到的时候可以查看：AMD的WIKI中文版</p>

<p>三、CMD</p>

<p>大名远扬的玉伯写了seajs，就是遵循他提出的CMD规范，与AMD蛮相近的，不过用起来感觉更加方便些，最重要的是中文版。</p>

<pre><code class="language-js">define(function(require,exports,module){...});
</code></pre>

<p>用过seajs吧，这个不陌生吧，对吧.</p>

<p>四、AMD与CMD的区别</p>

<p>CMD相当于按需加载，定义一个模块的时候不需要立即制定依赖模块，在需要的时候require就可以了，比较方便；而AMD则相反，定义模块的时候需要制定依赖模块，并以形参的方式引入factory中</p>

<pre><code class="language-js">//AMD方式定义模块
define(['dep1','dep2'],function(dep1,dep2){
     //内部只能使用制定的模块
      return function(){};
});
//CMD
define(function(require,exports,module){
   //此处如果需要某XX模块，可以引入
   var xx=require('XX');
});
</code></pre>

<p>而SEAJS也有use功能也是需要先引入所有依赖的模块，如</p>

<pre><code class="language-js">//SEAJS.Use方式
seajs.use(['dep1','dep2'],function(dep1,dep2){
     //这里实现事务
});
</code></pre>

<p>五、插件支持</p>

<p>但全球有两种比较流行的 JavaScript 模块化体系，一个是 Node 实现的 CommonJS，另外一个是 AMD。很多类库都同时支持 AMD 和 CommonJS，但是不支持 CMD。或许国内有很多 CMD 模块，但并没有在世界上流行起来。</p>

<p>现在比较火的 React 及周边类库，就是直接使用 CommonJS 的模块体系，使用 npm 管理模块，使用 Browserify 打包输出模块。</p>

<p>不久的将来 ES6 中新的模块化标准，可能就都得遵循新的标准了，什么AMD、CMD可能到时也不会怎么用了。</p>

<p>但是目前来说，前端开发没有用模块化编程就真的out的了，而目前的模块化编程，本人还是建议用SEAJS，虽然很多插件需要追加或修改一小块代码才能支持。但改过一次就能反复使用，也不会影响其它标准的支持。总体还算是比较方便实用的</p>

		  
		  </div>
		</div>
		
	</div>

	<div class="wp-pagenavi">
	    <span class='pages'>第 5 页，共 10 页</span>

	    
	    	<a class="previouspostslink" rel="prev" href="/blog/page4" > « </a>
	    

	      
	        <a class="page larger" href="/">1</a>
	      
	   
	    
	        
	          <a class="page larger" href="/blog/page2">2</a>
	        
	    
	        
	          <a class="page larger" href="/blog/page3">3</a>
	        
	    
	        
	          <a class="page larger" href="/blog/page4">4</a>
	        
	    
	        
	          <span class="current">5</span>
	        
	    
	        
	          <a class="page larger" href="/blog/page6">6</a>
	        
	    
	        
	          <a class="page larger" href="/blog/page7">7</a>
	        
	    
	        
	          <a class="page larger" href="/blog/page8">8</a>
	        
	    
	        
	          <a class="page larger" href="/blog/page9">9</a>
	        
	    
	        
	          <a class="page larger" href="/blog/page10">10</a>
	        
	    

	    
	    	<a class="nextpostslink" rel="next" href="/blog/page6" > » </a>
	    

	</div>
</div>
    		</div> <!-- #et-main-area -->
		</div> <!-- #page-container -->
		
<script src="/js/katex_init.js"></script>



<footer id="page-footer-trans" class="page-footer">
	<!--<p class="text"><a href="https://cyan24.github.io">Cyan的技术笔记</a> 
</p>-->
	Copyright &copy; 2017 <a href="https://cyan24.github.io">Cyan的技术笔记</a> 
 All Rights Reserved. 
	<p class="text">Hosted by <a href="https://github.com">GitHub</a><a alt="Fork me on GitHub" href="https://github.com/cyan24">Fork me on GitHub</a></p>
</footer>


    
<!-- WP Audio player plugin v1.9.3 - https://www.tipsandtricks-hq.com/wordpress-audio-music-player-plugin-4556/ -->
    <script type="text/javascript">
        soundManager.useFlashBlock = true; // optional - if used, required flashblock.css
        soundManager.url = '/plugins/soundmanager2.swf';
        function play_mp3(flg, ids, mp3url, volume, loops)
        {
            //Check the file URL parameter value
            var pieces = mp3url.split("|");
            if (pieces.length > 1) {//We have got an .ogg file too
                mp3file = pieces[0];
                oggfile = pieces[1];
                //set the file URL to be an array with the mp3 and ogg file
                mp3url = new Array(mp3file, oggfile);
            }

            soundManager.createSound({
                id: 'btnplay_' + ids,
                volume: volume,
                url: mp3url
            });

            if (flg == 'play') {
                    soundManager.play('btnplay_' + ids, {
                    onfinish: function() {
                        if (loops == 'true') {
                            loopSound('btnplay_' + ids);
                        }
                        else {
                            document.getElementById('btnplay_' + ids).style.display = 'inline';
                            document.getElementById('btnstop_' + ids).style.display = 'none';
                        }
                    }
                });
            }
            else if (flg == 'stop') {
    //soundManager.stop('btnplay_'+ids);
                soundManager.pause('btnplay_' + ids);
            }
        }
        function show_hide(flag, ids)
        {
            if (flag == 'play') {
                document.getElementById('btnplay_' + ids).style.display = 'none';
                document.getElementById('btnstop_' + ids).style.display = 'inline';
            }
            else if (flag == 'stop') {
                document.getElementById('btnplay_' + ids).style.display = 'inline';
                document.getElementById('btnstop_' + ids).style.display = 'none';
            }
        }
        function loopSound(soundID)
        {
            window.setTimeout(function() {
                soundManager.play(soundID, {onfinish: function() {
                        loopSound(soundID);
                    }});
            }, 1);
        }
        function stop_all_tracks()
        {
            soundManager.stopAll();
            var inputs = document.getElementsByTagName("input");
            for (var i = 0; i < inputs.length; i++) {
                if (inputs[i].id.indexOf("btnplay_") == 0) {
                    inputs[i].style.display = 'inline';//Toggle the play button
                }
                if (inputs[i].id.indexOf("btnstop_") == 0) {
                    inputs[i].style.display = 'none';//Hide the stop button
                }
            }
        }
    </script>
    <script type='text/javascript' src="/js/frontend-builder-global-functions.js"></script>
<script type='text/javascript' src="/js/custom.js"></script>
<script type='text/javascript' src="/js/jquery.fitvids.js"></script>
<script type='text/javascript' src="/js/waypoints.min.js"></script>
<script type='text/javascript' src="/js/jquery.magnific-popup.js"></script>
<script type='text/javascript'>
/* <![CDATA[ */
var et_custom = {"ajaxurl":"http:\/\/blog.ibireme.com\/wp-admin\/admin-ajax.php","images_uri":"http:\/\/blog.ibireme.com\/wp-content\/themes\/Divi\/images","builder_images_uri":"http:\/\/blog.ibireme.com\/wp-content\/themes\/Divi\/includes\/builder\/images","et_load_nonce":"ae39988568","subscription_failed":"Please, check the fields below to make sure you entered the correct information.","fill":"Fill","field":"field","invalid":"Invalid email","captcha":"Captcha","prev":"Prev","previous":"\u4e0a\u4e00\u9875","next":"\u4e0b\u4e00\u9875","is_builder_plugin_used":""};
/* ]]> */
</script>
<script type='text/javascript' src="/js/frontend-builder-scripts.js"></script>
  </body>
</html>
